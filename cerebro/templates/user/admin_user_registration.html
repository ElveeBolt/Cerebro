{% extends 'base.html' %}

{% block title %}{{ title }}{% endblock title %}

{% block content %}
<div class="container">
    <div class="header-title">
        <h1>{{ title }}</h1>
        <div class="subtitle">{{ subtitle }}</div>
    </div>

    <div class="row">
        <div class="col-7">
            {% if form_success %}
            <div class="card card-message">
                <span class="svg-icon infograph">
                    <svg width="100%" height="auto" viewBox="0 0 24 24" fill="none" xmlns="http://www.w3.org/2000/svg">
                        <path d="M16.0173 9H15.3945C14.2833 9 13.263 9.61425 12.7431 10.5963L12.154 11.7091C12.0645 11.8781 12.1072 12.0868 12.2559 12.2071L12.6402 12.5183C13.2631 13.0225 13.7556 13.6691 14.0764 14.4035L14.2321 14.7601C14.2957 14.9058 14.4396 15 14.5987 15H18.6747C19.7297 15 20.4057 13.8774 19.912 12.945L18.6686 10.5963C18.1487 9.61425 17.1285 9 16.0173 9Z" fill="currentColor"/>
                        <rect opacity="0.3" x="14" y="4" width="4" height="4" rx="2" fill="currentColor"/>
                        <path d="M4.65486 14.8559C5.40389 13.1224 7.11161 12 9 12C10.8884 12 12.5961 13.1224 13.3451 14.8559L14.793 18.2067C15.3636 19.5271 14.3955 21 12.9571 21H5.04292C3.60453 21 2.63644 19.5271 3.20698 18.2067L4.65486 14.8559Z" fill="currentColor"/>
                        <rect opacity="0.3" x="6" y="5" width="6" height="6" rx="3" fill="currentColor"/>
                    </svg>
                </span>
                <h2>Успешная регистрация</h2>
                <div class="text">
                    Вы успешно создали нового пользователя. Теперь он может попытаться войти в систему.
                    Более подробную информацию смотрите в Панели управления
                </div>
            </div>
            {% endif %}
            <div class="card">
                <div class="card-heading mb-3">
                    <h2>Добавление пользователя</h2>
                    <div class="subtitle">Для того чтобы добавить нового пользователя заполните форму ниже</div>
                </div>
                <form method="post">
                    {% csrf_token %}
                    <div class="row">
                        <div class="col-6">
                            <div class="mb-3">
                                <label class="form-label" for="{{ form.username.auto_id }}">{{ form.username.label_tag }}</label>
                                {{ form.username }}
                                {% for error in form.username.errors %}
                                    <div class="text-danger mb-3">{{ error }}</div>
                                {% endfor %}
                            </div>
                        </div>
                        <div class="col-6">
                            <div class="mb-3">
                                <label class="form-label" for="{{ form.name.auto_id }}">{{ form.name.label_tag }}</label>
                                {{ form.name }}
                            </div>
                        </div>
                        <div class="col-6">
                            <div class="mb-3">
                                <label class="form-label" for="{{ form.division.auto_id }}">{{ form.division.label_tag }}</label>
                                {{ form.division }}
                            </div>
                        </div>
                        <div class="col-12">
                            <div class="mb-0">
                                <label class="form-label" for="{{ form.comment.auto_id }}">{{ form.comment.label_tag }}</label>
                                {{ form.comment }}
                            </div>
                        </div>
                    </div>
                    <hr>
                    <div class="row">
                        <div class="col-6 mb-3">
                            <label class="form-label" for="{{ form.password1.auto_id }}">{{ form.password1.label_tag }}</label>
                            {{ form.password1 }}
                        </div>
                        <div class="col-6 mb-3">
                            <label class="form-label" for="{{ form.password2.auto_id }}">{{ form.password2.label_tag }}</label>
                            {{ form.password2 }}
                        </div>
                        {% for error in form.password2.errors %}
                            <div class="text-danger mb-3">{{ error }}</div>
                        {% endfor %}
                    </div>
                    <button type="submit" class="btn btn-primary">Регистрация пользователя</button>
                </form>
            </div>
        </div>
        {% include 'user/menu.html' %}
    </div>
</div>
{% endblock content %}