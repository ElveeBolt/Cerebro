{% extends 'base.html' %}

{% block title %}{{ title }}{% endblock title %}

{% block content %}
{% if documents != None %}
<div class="nav-results">
    <div class="container">
        Примерное количество результатов: {{ documents.total }}
    </div>
</div>
<div class="container">
    <div class="row">
        <div class="col-7">
            <div class="card">

                {% for item in page_obj %}
                <div class="card-search">
                    <h3><a href="{% url 'result' index=item.index id=item.id %}">
                        {% if item.highlight %}
                        {{ item.highlight | safe }}
                        {% else %}
                        {{ item.source.name }}
                        {% endif %}
                    </a></h3>
                    <div class="text">
                        {% if item.source.country %}
                        Страна: {{ item.source.country }},
                        {% endif %}
                        {% if item.source.phones %}
                        Телефон:
                        {% for phone in item.source.phones %}{{ phone }}&nbsp;{% endfor %},
                        {% endif %}
                        {% if item.source.emails %}
                        E-mail:
                        {% for email in item.source.emails %}{{ email }}{% endfor %},
                        {% endif %}
                        {% if item.source.sex %}
                        Пол:
                        {% if item.source.sex == 0 %}Женский{% else %}Мужской{% endif %},
                        {% endif %}
                        {% if item.source.birth_date %}
                        Дата рождения: {{ item.source.birth_date }},
                        {% endif %}
                        {% if item.source.date %}
                        Дата обновления: {{ item.source.date }}
                        {% endif %}
                    </div>
                    <div class="tags">
            <span class="tag">
                <span class="svg-icon">
                    <svg width="18" height="18" viewBox="0 0 24 24" fill="none" xmlns="http://www.w3.org/2000/svg">
                        <path opacity="0.3"
                              d="M21.25 18.525L13.05 21.825C12.35 22.125 11.65 22.125 10.95 21.825L2.75 18.525C1.75 18.125 1.75 16.725 2.75 16.325L4.04999 15.825L10.25 18.325C10.85 18.525 11.45 18.625 12.05 18.625C12.65 18.625 13.25 18.525 13.85 18.325L20.05 15.825L21.35 16.325C22.35 16.725 22.35 18.125 21.25 18.525ZM13.05 16.425L21.25 13.125C22.25 12.725 22.25 11.325 21.25 10.925L13.05 7.62502C12.35 7.32502 11.65 7.32502 10.95 7.62502L2.75 10.925C1.75 11.325 1.75 12.725 2.75 13.125L10.95 16.425C11.65 16.725 12.45 16.725 13.05 16.425Z"
                              fill="currentColor"></path>
                        <path d="M11.05 11.025L2.84998 7.725C1.84998 7.325 1.84998 5.925 2.84998 5.525L11.05 2.225C11.75 1.925 12.45 1.925 13.15 2.225L21.35 5.525C22.35 5.925 22.35 7.325 21.35 7.725L13.05 11.025C12.45 11.325 11.65 11.325 11.05 11.025Z"
                              fill="currentColor"></path>
                    </svg>
                </span>
                Источник: {{ item.source.database }}
            </span>
                        {% if item.source.documents %}
                        <span class="tag">
                <span class="svg-icon">
                    <svg width="18" height="18" viewBox="0 0 24 24" fill="none" xmlns="http://www.w3.org/2000/svg">
                        <path opacity="0.3"
                              d="M19 22H5C4.4 22 4 21.6 4 21V3C4 2.4 4.4 2 5 2H14L20 8V21C20 21.6 19.6 22 19 22Z"
                              fill="currentColor"></path>
                        <path d="M15 8H20L14 2V7C14 7.6 14.4 8 15 8Z" fill="currentColor"></path>
                    </svg>
                </span>
                Наличие документов
            </span>
                        {% endif %}
                    </div>
                </div>
                {% endfor %}
            </div>
            <nav>
                <ul class="pagination">
                    {% if page_obj.has_previous %}
                    <li class="page-item"><a class="page-link"
                                             href="?q={{ query }}&start={{ page_obj.previous_page_number }}">Назад</a>
                    </li>
                    {% else %}
                    <li class="page-item disabled"><a class="page-link" href="#">Назад</a></li>
                    {% endif %}
                    {% for i in page_obj.paginator.page_range %}
                    {% if page_obj.number == i %}
                    <li class="page-item active" aria-current="page"><a class="page-link" href="#">{{ i }}</a></li>
                    {% else %}
                    <li class="page-item"><a class="page-link" href="?q={{ query }}&start={{ i }}">{{ i }}</a></li>
                    {% endif %}
                    {% endfor %}
                    {% if page_obj.has_next %}
                    <li class="page-item"><a class="page-link"
                                             href="?q={{ query }}&start={{ page_obj.next_page_number }}">Вперед</a></li>
                    {% else %}
                    <li class="page-item disabled"><a class="page-link" href="#">Вперед</a></li>
                    {% endif %}
                </ul>
            </nav>
        </div>
    </div>
</div>
{% else %}
<div class="container">
    Поиск не дал результатов
</div>
{% endif %}
{% endblock content %}